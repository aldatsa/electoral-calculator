*************
*   BUGS    *                
*************

    * FIXED 2012-05-20
      It's D'Hondt not d'Hondt. Source: http://en.wikipedia.org/wiki/Talk:D%27Hondt_method#Capitalization.3F
        
    * When two or more parties have the same amount of votes the calculus is not correct:

        * a: 1000 and b: 1000 -> a: 1 and b: 0 INCORRECT (2 seats) (my app, http://icon.cat/util/elections and http://www.calculoescanos.com/)
          See Improvements.

    * FIXED 2012-05-22
      The calculus to get the votes needed to obtain the last seat are not correct (D'Hondt method):

        * a 1000    b 500   -> a: 2 ; b: 0 (2 seats)
           votes to last seat: a: 0 ; b: 1 CORRECT (my app and http://icon.cat/util/elections)
                           but a: 0 ; b: 0 INCORRECT (http://www.calculoescanos.com)
                           
        * a 1000    b 501   -> a: 1 ; b: 1 (2 seats)
           votes to last seat: a: 3 ; b: 0 INCORRECT (my app and http://icon.cat/util/elections)
                  it should be a: 2 ; b: 0 CORRECT (http://www.calculoescanos.com)
           after the first fix a: 2 ; b: 0 CORRECT 2012-05-22

        * a 1000    b 500   -> a: 1 ; b: 0 (1 seat)
           votes to last seat: a: 0 ; b: 500 INCORRECT ??? Is it enough to draw?
                it should be   a: 0 ; b: 501 I think that the correct answer is 501, as it's the votes needed to be sure that this party wins the next seat.
           after the 2nd fix   a: 0 ; b: 501 CORRECT 2012-05-22
           
        * a 1000    b 500   c 333 -> a: 2 ; b: 0; c: 0 (2 seats)
            votes to last seat: a: 0 ; b: 1; c: 167 INCORRECT
                it should be    a: 0 ; b: 1; c: 168
            after the 3rd fix   a: 0 ; b: 1; c: 168 CORRECT 2012-05-22

        * a 1000    b 500   c 333 -> a: 2 ; b: 1; c: 0 (3 seats)
            votes to last seat: a: 500 ; b: 0; c: 168 CORRECT ???
            c: 167 -> 333 + 167 -> 500 Draw with b. But I think 168 is correct as it's the votes needed to be sure that this party wins the next seat.

        * ...
        
        * What about the other methods?

    * FIXED 2012-05-18
      2012-05-18 Error that happens when using the imperiali method
    
        * Error message:

            Traceback (most recent call last):
              File "ElectoralCalculator.py", line 248, in on_btnCalculate_clicked
                (results, nextSeat) = calculateHighestAverage(self.votes, numSeats, self.method, threshold, votePercentages)
              File "/home/asier/Dokumentuak/Proiektuak/ElectoralCalculator/ElectoralCalculator/trunk/calculations.py", line 121, in calculateHighestAverage
                quot = float(votes[party])/getDivisor(results[party], method) # Calculate the quot for this party in this round
            TypeError: unsupported operand type(s) for /: 'float' and 'list'

        * The problem is here:
            In the function getDivisor:
            69    elif method == "Imperiali":
            70        return range(numSeats + 2)
            
            A range (a list) is returned instead of a number.

        * Solution: Use "return numSeats + 2" instead of "return range(numSeats + 2)"

    * FIXED 2012-05-14 
      2012-05-14 Adding a candidature after deleting all the candidatures using "Delete selection" (btnDeleteSelection) throws an error:

        * Error message:
       
            Traceback (most recent call last):
              File "ElectoralCalculator.py", line 410, in on_btnAddCandidature_clicked
                if self.listStoreCandidatures[0][0] == "-":
              File "/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py", line 732, in __getitem__
                raise IndexError("could not find tree path '%s'" % key)
            IndexError: could not find tree path '0'

        * The problem is here:
            409 # If this candidature is the first one, delete the "-" from the liststore
            410 if self.listStoreCandidatures[0][0] == "-":
            411     self.listStoreCandidatures.clear()           
        
            The app expects to find a ["-", "-"] element if there aren't candidatures in the liststore. But the liststore is completely empty after deleting the last candidature
            and self.listStoreCandidatures[0][0] throws an error.
            
        * Solution: Append a ["-", "-"] element when the last candidature is deleted.

    * FIXED 2012-05-14 
      2012-05-14 Adding a candidature after deleting all the candidatures using "Clear" (btnClear) throws an error:

        * Error message:
       
            Traceback (most recent call last):
              File "ElectoralCalculator.py", line 417, in on_btnAddCandidature_clicked
                if self.listStoreCandidatures[0][0] == "-":
              File "/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py", line 732, in __getitem__
                raise IndexError("could not find tree path '%s'" % key)
            IndexError: could not find tree path '0'

        * The problem is here:
            416 # If this candidature is the first one, delete the "-" from the liststore
            417 if self.listStoreCandidatures[0][0] == "-":
            418     self.listStoreCandidatures.clear()           
        
            The app expects to find a ["-", "-"] element if there aren't candidatures in the liststore. But the liststore is completely empty after deleting the last candidature
            and self.listStoreCandidatures[0][0] throws an error.
            
        * Solution: Append a ["-", "-"] element when the candidatures are deleted.




************************************************
*   IMPROVEMENTS AND NEW FEATURES (WISHLIST)   *
************************************************

    * Add options window:

        * D'Hondt method:

            * Threshold calculus: votes[party]/totalVotes or votes[party]/validVotes

            * Votes percent: votes[party]/totalVotes or votes[party]/validVotes or both
            
    * Add more calculation methods (check wikipedia):

        * Highest averages methods: http://en.wikipedia.org/wiki/Highest_averages_method

            * IMPLEMENTED 0.5.0 - Sainte-Laguë method: http://en.wikipedia.org/wiki/Sainte-Lagu%C3%AB_method and Modified Sainte-Laguë
            
            * Huntington-Hill method: http://en.wikipedia.org/wiki/Huntington-Hill_method

        * Largest remainder methods:

            * Hare quota IMPLEMENTED 0.5.3

            * Droop quota IMPLEMENTED 0.5.3

            * Imperiali quota    
            
    * What to do when the quots or the number of votes of two parties are equal?

        * In Spain: 

            * IMPLEMENTED 0.5.2 - Cuando en la relacion de cocientes coincidan dos correspondientes a distintas candidaturas, el escaño se atribuira a la que mayor numero total de votos hubiese obtenido. 

            * Si hubiera dos candidaturas con igual numero total de votos, el primer empate se resolvera por sorteo y los sucesivos de forma alternativa.
    
    * The possibility to do comparations of the results using different methods
    
    * The possibility to save the data
    
    * Add info about each calculation method (from wikipedia)
    
    * self.listStoreCandidatures.append(["-", "-"]) is used 3 times -> Create function?
